(window.webpackJsonp=window.webpackJsonp||[]).push([[14,5,6,8],{298:function(t,e,o){var content=o(300);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(40).default)("6392530a",content,!0,{sourceMap:!1})},299:function(t,e,o){"use strict";o(298)},300:function(t,e,o){var n=o(39)((function(i){return i[1]}));n.push([t.i,".text[data-v-1adcae9a]{line-height:3.5rem}.emotion-anger[data-v-1adcae9a],.emotion-exasperation[data-v-1adcae9a],.emotion-irritation[data-v-1adcae9a]{background-color:#df8686}.emotion-anxiety[data-v-1adcae9a],.emotion-fear[data-v-1adcae9a],.emotion-stress[data-v-1adcae9a],.emotion-worry[data-v-1adcae9a]{background-color:#df86c4}.emotion-boredom[data-v-1adcae9a],.emotion-disgust[data-v-1adcae9a],.emotion-embarrassment[data-v-1adcae9a],.emotion-guilt[data-v-1adcae9a],.emotion-regret[data-v-1adcae9a],.emotion-repulsion[data-v-1adcae9a],.emotion-shame[data-v-1adcae9a]{background-color:#dfa786}.emotion-hatred[data-v-1adcae9a],.emotion-offence[data-v-1adcae9a]{background-color:#df86a1}.emotion-envy[data-v-1adcae9a],.emotion-jealousy[data-v-1adcae9a]{background-color:#bbdf86}.emotion-disappointment[data-v-1adcae9a],.emotion-disillusion[data-v-1adcae9a],.emotion-resignation[data-v-1adcae9a],.emotion-sadness[data-v-1adcae9a],.emotion-suffering[data-v-1adcae9a],.emotion-torment[data-v-1adcae9a]{background-color:#8698df}.emotion-surprise[data-v-1adcae9a]{background-color:coral}.emotion-amusement[data-v-1adcae9a],.emotion-excitement[data-v-1adcae9a],.emotion-happiness[data-v-1adcae9a],.emotion-joy[data-v-1adcae9a],.emotion-relief[data-v-1adcae9a],.emotion-satisfaction[data-v-1adcae9a],.emotion-well-being[data-v-1adcae9a]{background-color:#86dfa5}.emotion-affection[data-v-1adcae9a],.emotion-compassion[data-v-1adcae9a],.emotion-empathy[data-v-1adcae9a],.emotion-like[data-v-1adcae9a],.emotion-love[data-v-1adcae9a],.emotion-passion[data-v-1adcae9a],.emotion-trust[data-v-1adcae9a]{background-color:#86df90}",""]),n.locals={},t.exports=n},301:function(t,e,o){"use strict";o.r(e);o(79),o(49);var n={name:"EmoText",props:{text:{type:String,required:!0},emotions:{type:Array,required:!0}},methods:{toEmoji:function(t){var e;return null!==(e={anger:"twa-rage",fear:"twa-fearful",happiness:"twa-relaxed",sadness:"twa-cry",hatred:"twa-imp",like:"twa-smiley",joy:"twa-joy",love:"twa-heart-eyes",affection:"twa-heart-eyes",amusement:"twa-laughing",satisfaction:"twa-satisfied",anxiety:"twa-confounded",surprise:"twa-open-mouth",shame:"twa-sweat",irritation:"twa-angry",regret:"twa-sob",excited:"twa-grin",suffering:"twa-tired_face",disgust:"twa-scream",offence:"twa-unamused",disappointment:"twa-anguished"}[t])&&void 0!==e?e:"twa-question"}}},r=(o(299),o(20)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"inline relative"},[t.emotions.length?e("div",{staticClass:"absolute px-1 inline -top-8 rounded-lg border-2 bg-white whitespace-nowrap"},t._l(t.emotions,(function(o){return e("span",{key:o,staticClass:"capitalize"},[t._v("\n      "+t._s(o)+"\n      "),e("i",{class:["twa",t.toEmoji(o)]})])})),0):t._e(),t._v(" "),e("span",{class:["text","inline","mt-4","text-xl"].concat(t.emotions.map((function(t){return"emotion-"+t})))},[t._v(t._s(t.text))]),t._v("Â \n")])}),[],!1,null,"1adcae9a",null);e.default=component.exports},302:function(t,e,o){var content=o(306);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(40).default)("c1e3ddaa",content,!0,{sourceMap:!1})},303:function(t,e,o){var content=o(308);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(40).default)("881b393c",content,!0,{sourceMap:!1})},305:function(t,e,o){"use strict";o(302)},306:function(t,e,o){var n=o(39)((function(i){return i[1]}));n.push([t.i,"a[data-v-268a9920]{text-decoration:underline;text-decoration-color:#2fb195}.modal-overlay[data-v-268a9920]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;justify-content:center;background-color:rgba(69,66,66,.8549019607843137)}.modal[data-v-268a9920]{text-align:center;background-color:#fff;height:60vh;width:40vw;min-width:300px;margin-top:10vh;padding:60px 0;border-radius:20px}h6[data-v-268a9920]{font-weight:500;font-size:28px}h6[data-v-268a9920],p[data-v-268a9920]{margin:20px 0}p[data-v-268a9920]{font-size:16px}button[data-v-268a9920]{background:#2fb195}",""]),n.locals={},t.exports=n},307:function(t,e,o){"use strict";o(303)},308:function(t,e,o){var n=o(39)((function(i){return i[1]}));n.push([t.i,".spinner[data-v-2a16fc2c]{margin:34vh auto auto;display:flex;justify-content:center}",""]),n.locals={},t.exports=n},310:function(t,e,o){var content=o(323);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(40).default)("1b572d10",content,!0,{sourceMap:!1})},314:function(t,e,o){"use strict";o.r(e);var n={name:"Modal",props:{custom_url:{type:String,required:!0}},data:function(){return{has_copied:!1}},methods:{copy:function(){navigator.clipboard.writeText("https://main.d2s3ylptdaf8im.amplifyapp.com/book/user/"+this.custom_url),this.has_copied=!0}}},r=(o(305),o(20)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-overlay",on:{click:function(e){return t.$emit("close-modal")}}},[e("div",{staticClass:"modal",on:{click:function(t){t.stopPropagation()}}},[e("h6",[t._v("Saved!")]),t._v(" "),e("p",[t._v("Your Story has been saved!")]),t._v(" "),e("p",[t._v("Book ID: "),e("NuxtLink",{attrs:{to:"/book/user/"+t.custom_url}},[t._v(t._s(t.custom_url))])],1),t._v(" "),e("p",[e("button",{staticClass:"text-white font-bold py-2 px-4 border rounded",on:{click:t.copy}},[t._v(t._s(t.has_copied?"Copied":"Copy"))]),t._v(" "),e("button",{staticClass:"text-white font-bold py-2 px-4 border rounded",on:{click:function(e){return t.$emit("close-modal")}}},[t._v("Close")])])])])}),[],!1,null,"268a9920",null);e.default=component.exports},315:function(t,e,o){"use strict";o.r(e);var n={name:"Spinner"},r=(o(307),o(20)),component=Object(r.a)(n,(function(){var t=this._self._c;return t("div",{staticClass:"spinner"},[t("div",{attrs:{"aria-label":"Loading...",role:"status"}},[t("svg",{staticClass:"h-12 w-12 animate-spin",attrs:{viewBox:"3 3 18 18"}},[t("path",{staticClass:"fill-gray-200",attrs:{d:"M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5ZM3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"}}),this._v(" "),t("path",{staticClass:"fill-gray-800",attrs:{d:"M16.9497 7.05015C14.2161 4.31648 9.78392 4.31648 7.05025 7.05015C6.65973 7.44067 6.02656 7.44067 5.63604 7.05015C5.24551 6.65962 5.24551 6.02646 5.63604 5.63593C9.15076 2.12121 14.8492 2.12121 18.364 5.63593C18.7545 6.02646 18.7545 6.65962 18.364 7.05015C17.9734 7.44067 17.3403 7.44067 16.9497 7.05015Z"}})])])])}),[],!1,null,"2a16fc2c",null);e.default=component.exports},322:function(t,e,o){"use strict";o(310)},323:function(t,e,o){var n=o(39)((function(i){return i[1]}));n.push([t.i,"button[data-v-5184602f]{background:#2fb195}",""]),n.locals={},t.exports=n},331:function(t,e,o){"use strict";o.r(e);o(49),o(50),o(15);var n={name:"CustomBook",components:{SavedModal:o(314).default},data:function(){return{title:"",text:"",custom_url:"",sentences:[],emotions:[],loading:!1,show_generate_btn:!1,show_url_btn:!1,showModal:!1}},methods:{analyse_text:function(){var t=this;this.loading=!0,fetch("https://bookpal1.herokuapp.com/analyse/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({text:this.text})}).then((function(t){return t.json()})).then((function(e){t.emotions=e.emotions,t.sentences=e.sentences})).catch((function(t){return console.log(t)})).finally((function(){t.loading=!1,t.show_generate_btn=!0}))},save_text:function(){var t=this;fetch("https://bookpal1.herokuapp.com/user_book/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({title:this.title,text:this.sentences,emotions:this.emotions,hate_speech:[]})}).then((function(t){return t.json()})).then((function(e){t.custom_url=e.url,t.showModal=!0,t.show_generate_btn=!1,t.show_url_btn=!0})).catch((function(t){return console.log(t)}))}}},r=(o(322),o(20)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mx-3"},[t.loading?e("div",[e("Spinner")],1):e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"p-2.5 w-full rounded-lg border mt-3",attrs:{placeholder:"Title [Optional]"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"p-2.5 w-full rounded-lg border mt-3",attrs:{rows:"10",placeholder:"Insert your story here..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),e("button",{staticClass:"text-white font-bold py-2 px-4 border rounded",on:{click:t.analyse_text}},[t._v("Analyse")]),t._v(" "),t.show_generate_btn?e("button",{staticClass:"text-white font-bold py-2 px-4 border rounded",on:{click:t.save_text}},[t._v("Generate\n      URL")]):t._e(),t._v(" "),t.show_url_btn?e("button",{staticClass:"text-white font-bold py-2 px-4 border rounded",on:{click:function(e){t.showModal=!0}}},[t._v("Show\n      URL")]):t._e(),t._v(" "),t.show_generate_btn|t.show_url_btn?e("div",{staticClass:"mt-4"},[e("div",{staticClass:"max-w-5xl mt-8 border rounded bg-white px-4"},[e("h2",{staticClass:"text-3xl my-2 font-semibold"},[t._v("Preview:")]),t._v(" "),e("h3",{staticClass:"text-2xl my-2 font-semibold"},[t._v("\n          "+t._s(t.title)+"\n        ")]),t._v(" "),t._l(t.sentences,(function(text,o){return e("EmoText",{key:o,attrs:{text:text,emotions:t.emotions[o].split(",").slice(0,-1).map((function(t){return t.toLowerCase()}))}})}))],2)]):t._e()]),t._v(" "),e("SavedModal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{custom_url:t.custom_url},on:{"close-modal":function(e){t.showModal=!1}}})],1)}),[],!1,null,"5184602f",null);e.default=component.exports;installComponents(component,{Spinner:o(315).default,EmoText:o(301).default})}}]);